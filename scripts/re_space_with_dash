#!/bin/bash

dir="$1"
for f in "$dir"/*; do
  [ -e "$f" ] || continue
  new="${f// /_}"
  [ "$f" != "$new" ] && mv -- "$f" "$new"
done
